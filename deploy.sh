#!/bin/bash

# ----------------------------------------------------------------
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Ocean Prime
#
# –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
# 1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞.
# 2. –î–æ–±–∞–≤–ª—è–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –≤ Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
#
# Usage:
# ./deploy.sh
# (–°–∫—Ä–∏–ø—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞)
# ----------------------------------------------------------------

# --- –ù–ê–°–¢–†–û–ô–ö–ò (–ë–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –¥–µ–ø–ª–æ—è) ---
# User and address of your server
REMOTE_USER="root" # WARNING: Using root is a security risk. Switched as per direct request.
REMOTE_HOST="109.196.102.71"
# Path to the website folder ON THE SERVER
REMOTE_PATH="/var/www/ocean-prime"

# --- –ö–û–î –°–ö–†–ò–ü–¢–ê ---

# Exit if any command fails
set -e

echo "‚úÖ  Code successfully pushed to Git."

echo

echo "üéâ  –ò–∑–º–µ–Ω–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –≤ Git."
echo
echo "---"
echo "‰∏ã‰∏ÄÊ≠• (Next step):"
echo "1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É: ssh root@${REMOTE_HOST}"
echo "2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞: cd ${REMOTE_PATH}"
echo "3. –°–∫–∞—á–∞–π—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: git pull"
echo "4. –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã: docker compose up -d --build"
echo "---"

echo

