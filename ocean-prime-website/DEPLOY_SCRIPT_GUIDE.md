# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é —Å–∫—Ä–∏–ø—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è (–¥–µ–ø–ª–æ—è) —Å–∞–π—Ç–∞ –Ω–∞ October CMS

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `deploy.sh` —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ —Å–∞–π—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –°–∫—Ä–∏–ø—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ –ª–æ–≥–∏–∫–µ –∏–∑ `leademy-website/deploy.sh`, –Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –ª—é–±—ã–º –Ω–æ–≤—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º –Ω–∞ October CMS.

## –ó–∞—á–µ–º –Ω—É–∂–µ–Ω —Å–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è?

- **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏:** –í–º–µ—Å—Ç–æ —Ä—É—á–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–µ—Å—è—Ç–∫–∞ –∫–æ–º–∞–Ω–¥, –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –æ–¥–∏–Ω —Ñ–∞–π–ª.
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –°–Ω–∏–∂–∞–µ—Ç—Å—è —Ä–∏—Å–∫ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–æ–º–∞–Ω–¥—É, –≤–≤–µ—Å—Ç–∏ –µ–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ).
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è:** –í—Å–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ –∫–æ–º–∞–Ω–¥–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–∞.

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `deploy.sh`

–í –∫–æ—Ä–Ω–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `deploy.sh`.

---

## –®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ —Å–∫—Ä–∏–ø—Ç–∞

–í—Å—Ç–∞–≤—å—Ç–µ –≤ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª `deploy.sh` —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥. –≠—Ç–æ—Ç —à–∞–±–ª–æ–Ω —É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —à–∞–≥–∏.

```shellscript
#!/bin/bash

# ----------------------------------------------------------------
# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞ –Ω–∞ October CMS
#
# –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:
# 1. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–∞—à Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
# 2. –ü–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —É–¥–∞–ª–µ–Ω–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH.
# 3. –í—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
#    –∫–æ–¥–∞, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞.
#
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
# ./deploy.sh
# ----------------------------------------------------------------

# --- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ---

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
REMOTE_USER="user"
REMOTE_HOST="123.45.67.89"

# –ü—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å —Å–∞–π—Ç–æ–º –ù–ê –°–ï–†–í–ï–†–ï
# –î–ª—è shared-—Ö–æ—Å—Ç–∏–Ω–≥–∞ —ç—Ç–æ –æ–±—ã—á–Ω–æ /home/user/public_html –∏–ª–∏ /var/www/html/sitename
# –î–ª—è Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è —ç—Ç–æ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å docker-compose.yml
REMOTE_PATH="/var/www/my-october-site"

# –í–µ—Ç–∫–∞ Git, –∫–æ—Ç–æ—Ä—É—é –Ω—É–∂–Ω–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å (–æ–±—ã—á–Ω–æ main –∏–ª–∏ master)
GIT_BRANCH="main"

# --- –ö–û–î –°–ö–†–ò–ü–¢–ê (–¥–∞–ª—å—à–µ –º–æ–∂–Ω–æ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å) ---

# –í—ã—Ö–æ–¥–∏–º, –µ—Å–ª–∏ –ª—é–±–∞—è –∫–æ–º–∞–Ω–¥–∞ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å —Å –æ—à–∏–±–∫–æ–π
set -e

# 1. –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞
read -p "üí¨ –í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞: " COMMIT_MESSAGE

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—É—Å—Ç–æ–µ
if [ -z "$COMMIT_MESSAGE" ]; then
    echo
    echo "üõë –û—à–∏–±–∫–∞: –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º."
    exit 1
fi

# 2. –î–æ–±–∞–≤–ª—è–µ–º –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Git
echo "‚öôÔ∏è  –®–∞–≥ 1: –û—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π..."
git add .
git commit -m "$COMMIT_MESSAGE"
git push origin ${GIT_BRANCH}

echo "‚úÖ  –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ Git."

# 3. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
echo "üöö  –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ..."

# --- –í–´–ë–ï–†–ò–¢–ï –û–î–ò–ù –ò–ó –ë–õ–û–ö–û–í –ö–û–ú–ê–ù–î –ù–ò–ñ–ï ---

# =================================================================
# –ë–õ–û–ö 1: –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ (Shared) —Ö–æ—Å—Ç–∏–Ω–≥–∞
# (–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –±–ª–æ–∫, –µ—Å–ª–∏ —É –≤–∞—Å –ù–ï Docker)
# =================================================================
# REMOTE_COMMANDS="
#   set -e && \
#   cd ${REMOTE_PATH} && \
#   echo '--- 1. –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ Git ---' && \
#   git fetch origin ${GIT_BRANCH} && \
#   git reset --hard origin/${GIT_BRANCH} && \
#   echo '--- 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Composer ---' && \
#   composer install --no-interaction --no-dev --prefer-dist --optimize-autoloader && \
#   echo '--- 3. –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ---' && \
#   php artisan october:migrate --force && \
#   echo '--- 4. –û—á–∏—â–∞–µ–º –∫—ç—à ---' && \
#   php artisan cache:clear && \
#   php artisan config:clear && \
#   php artisan route:clear && \
#   php artisan view:clear && \
#   echo '‚úÖ  –î–µ–ø–ª–æ–π –Ω–∞ shared-—Ö–æ—Å—Ç–∏–Ω–≥ –∑–∞–≤–µ—Ä—à–µ–Ω.'
# "

# =================================================================
# –ë–õ–û–ö 2: –ö–æ–º–∞–Ω–¥—ã –¥–ª—è Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è
# (–≠—Ç–æ—Ç –±–ª–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∫–∞–∫ –≤ –≤–∞—à–µ–º –ø—Ä–∏–º–µ—Ä–µ)
# =================================================================
REMOTE_COMMANDS="
  set -e && \
  cd ${REMOTE_PATH} && \
  echo '--- 1. –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ Git ---' && \
  git fetch origin ${GIT_BRANCH} && \
  git reset --hard origin/${GIT_BRANCH} && \
  echo '--- 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ ---' && \
  docker compose exec -T app chown -R www-data:www-data /var/www/html && \
  echo '--- 3. –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Composer ---' && \
  docker compose exec -T --user www-data app composer install --no-interaction --no-dev --prefer-dist --optimize-autoloader && \
  echo '--- 4. –û—á–∏—â–∞–µ–º –∫—ç—à –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ---' && \
  docker compose exec -T --user www-data app php artisan config:clear && \
  echo '--- 5. –°–æ–∑–¥–∞–µ–º —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É –¥–ª—è —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ---' && \
  docker compose exec -T --user www-data app php artisan storage:link --force && \
  echo '--- 6. –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ---' && \
  docker compose exec -T --user www-data app php artisan october:migrate && \
  echo '--- 7. –û—á–∏—â–∞–µ–º –∫—ç—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ---' && \
  docker compose exec -T --user www-data app php artisan cache:clear && \
  echo '‚úÖ  –î–µ–ø–ª–æ–π –≤ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω.'
"

# –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
ssh "${REMOTE_USER}@${REMOTE_HOST}" "${REMOTE_COMMANDS}"

echo
echo "üéâ  –î–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω!"
echo
echo "‚ÑπÔ∏è  –í–ê–ñ–ù–û: –ï—Å–ª–∏ –≤—ã –≤–Ω–æ—Å–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ Dockerfile, docker-compose.yml –∏–ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Docker,"
echo "   —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –Ω–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–ª –æ–±—Ä–∞–∑. –î–ª—è —ç—Ç–æ–≥–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—Ä—É—á–Ω—É—é:"
echo "   ssh ${REMOTE_USER}@${REMOTE_HOST} 'cd ${REMOTE_PATH} && docker compose up -d --build'"
echo
```

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞

1.  **–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**
    –û—Ç–∫—Ä–æ–π—Ç–µ `deploy.sh` –∏ –≤ —Å–µ–∫—Ü–∏–∏ `--- –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò ---` —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:
    - `REMOTE_USER`: –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è SSH-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `root` –∏–ª–∏ `myuser`).
    - `REMOTE_HOST`: IP-–∞–¥—Ä–µ—Å –∏–ª–∏ –¥–æ–º–µ–Ω –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞.
    - `REMOTE_PATH`: –ü–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
    - `GIT_BRANCH`: –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ—Ç–∫–∏ –≤ –≤–∞—à–µ–º Git-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (`main` –∏–ª–∏ `master`).

2.  **–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
    –°–∫—Ä–∏–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ –±–ª–æ–∫–∞ –∫–æ–º–∞–Ω–¥ (`REMOTE_COMMANDS`): –¥–ª—è shared-—Ö–æ—Å—Ç–∏–Ω–≥–∞ –∏ –¥–ª—è Docker.
    - **–ï—Å–ª–∏ —É –≤–∞—Å Docker:** –û—Å—Ç–∞–≤—å—Ç–µ –≤—Å–µ –∫–∞–∫ –µ—Å—Ç—å. –ë–ª–æ–∫ –¥–ª—è Docker —É–∂–µ –∞–∫—Ç–∏–≤–µ–Ω.
    - **–ï—Å–ª–∏ —É –≤–∞—Å shared-—Ö–æ—Å—Ç–∏–Ω–≥ (–±–µ–∑ Docker):**
        - –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ (–ø–æ—Å—Ç–∞–≤—å—Ç–µ `#` –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏) –≤–µ—Å—å **–ë–õ–û–ö 2**.
        - –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ (—É–¥–∞–ª–∏—Ç–µ `#` –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫) –≤–µ—Å—å **–ë–õ–û–ö 1**.

3.  **–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:**
    –ü–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∫–æ–º–∞–Ω–¥—É:
    ```bash
    chmod +x deploy.sh
    ```

---

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–∞–π—Ç–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–∏ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
./deploy.sh
```

–°–∫—Ä–∏–ø—Ç –ø–æ–ø—Ä–æ—Å–∏—Ç –≤–∞—Å –≤–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–º–∏—Ç–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç –∫–æ–¥ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.

---

## –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –î–ª—è Shared-—Ö–æ—Å—Ç–∏–Ω–≥–∞ (–ë–õ–û–ö 1)
- `cd ${REMOTE_PATH}`: –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞.
- `git reset --hard origin/${GIT_BRANCH}`: –°–∫–∞—á–∏–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞ –∏–∑ Git, –∑–∞—Ç–∏—Ä–∞—è –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- `composer install ...`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç PHP-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏.
- `php artisan october:migrate --force`: –ü—Ä–∏–º–µ–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –§–ª–∞–≥ `--force` –Ω—É–∂–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ —Å–∫—Ä–∏–ø—Ç–µ.
- `php artisan ...:clear`: –û—á–∏—â–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∏–¥—ã –∫—ç—à–∞, —á—Ç–æ–±—ã —Å–∞–π—Ç –Ω–∞—á–∞–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–¥ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

### –î–ª—è Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è (–ë–õ–û–ö 2)
–ö–æ–º–∞–Ω–¥—ã –≤ —Ü–µ–ª–æ–º –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã, –Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `app` —Å –ø–æ–º–æ—â—å—é `docker compose exec`.
- `chown -R www-data:www-data ...`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ–∞–π–ª–æ–≤, —á—Ç–æ–±—ã –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –º–æ–≥ –∏—Ö –∏–∑–º–µ–Ω—è—Ç—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫—ç—à –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ñ–∞–π–ª—ã).
- `php artisan storage:link --force`: –°–æ–∑–¥–∞–µ—Ç —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É, —á—Ç–æ–±—ã —Ñ–∞–π–ª—ã –∏–∑ `storage/app/public` –±—ã–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –≤–µ–±–∞.

–≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∞–º –∏–º–µ—Ç—å –æ–¥–∏–Ω —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ö–æ—Å—Ç–∏–Ω–≥–∞.
